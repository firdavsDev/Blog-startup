{% extends 'base.html' %}

{% load crispy_forms_tags %}

{% load widget_tweaks %}

{% block content %}

<style>
    .clearablefileinput {
        width: 100%;
    }

    .class {
        width: 100%;
    }

    .d-flex-pro {
        display: flex;
    }

    .profile-form-title {
        margin-left: 14%;
    }

    @media only screen and (max-width: 768px) {
        .d-flex-pro {
            display: flex;
            flex-wrap: wrap;
            flex-direction: column;
            align-content: space-around;
        }

        .bosh-btn {
            margin-left: 0px !important;
        }
    }

    .profile-form-img-choise p a {
        display: none;
    }

    .profile-form-img-choise p, .profile-form-img-choise p input {
        width: 100%;
    }

    .profile-form-img-choise p {
        margin-left: 14%;
    }

</style>

    <section class="my-5 profile">
    <div class="before-back-profile"></div>
    <div class="container">
        <div class="row">
        <div class="col-lg-12 col-12">
            <div class="col-lg-8 mx-auto py-4 profile-box">

            <div class="mx-auto profile-img-div">
                <img src="{{ user.profile.image.url }}" alt="default" class="w-100 profile-img">
            </div>
            <div class="w-100 mx-auto text-center pt-2">
                <h3 class="profile-user-username">{{ user.username }}</h3>
                <h4 class="profile-user-email">{{ user.email | truncatechars:"16" }}</h4>
            </div>
            <hr>
            
            <form action="#" class="profile-form w-100" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="profile-form-big-box mx-auto col-lg-7 col-md-7">
                <h5 class="profile-form-title col-lg-12">Username:</h5>
                <center><div class="input-field">
                    <i class="fas fa-user"></i>
                    {% render_field u_form.username placeholder="Username" %}
                </div></center>
                <h5 class="profile-form-title mt-4">Email:</h5>
                <center><div class="input-field">
                    <i class="fas fa-at"></i>
                    {% render_field u_form.email placeholder="Email" %}
                </div></center>
                <h5 class="profile-form-title">Image:</h5>
                <div>
                    <form>
                    <div class="form-group d-flex profile-form-img-choise">
                        {{ p_form.as_p }}
                    </div>
                    </form>
                </div>
                <div class="d-flex-pro">
                    <button class="btn col-lg-5 col-6 mt-3 d-flex justify-content-center mx-auto py-2 text-white text-center profile-sub-btn" style="margin-right: 5px !important;">Yangilash</button>
                    <a href="{% url 'blog-home' %}" class="btn col-lg-5 col-6 mt-3 d-flex justify-content-center mx-auto py-2 text-white text-center profile-sub-btn bosh-btn">Bosh sahifa</a>
                </div>
                </div>
            </form>

            </div>
        </div>
        </div>
    </div>
    </section>
{% endblock content %}